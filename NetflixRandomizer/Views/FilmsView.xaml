<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="NetflixRandomizer.Views.FilmsView"
             BackgroundColor="#000000"
             Shell.TitleColor="Red"
             Shell.FlyoutBackdrop="Red"
             Shell.ForegroundColor="Red"
             Shell.BackgroundColor="Black"
             Title="Películas">

    <CollectionView ItemsSource="{Binding ListFilms}" VerticalScrollBarVisibility="Never" SelectionMode="None" Margin="0,10,0,0">

        <CollectionView.ItemsLayout>
            <LinearItemsLayout Orientation="Vertical" ItemSpacing="30" />
        </CollectionView.ItemsLayout>

        <CollectionView.ItemTemplate>
            <DataTemplate>
                <Grid HeightRequest="450" Margin="0,0,0,0" RowDefinitions="*,Auto,Auto">
                    <Image Source="{Binding imageSet.verticalPoster.w720}" Aspect="AspectFill" Opacity="0.85" Grid.RowSpan="3" />
                    <BoxView BackgroundColor="#80000000" VerticalOptions="End" HeightRequest="150" Grid.RowSpan="3" />
                    <Label Text="{Binding title}" FontSize="22" FontAttributes="Bold" TextColor="White" Margin="20,0,20,70" VerticalOptions="End" HorizontalTextAlignment="Center" LineBreakMode="TailTruncation" />
                    <Label Text="{Binding overview}" FontSize="14" TextColor="#CCCCCC" Margin="30,0,30,20" VerticalOptions="End" HorizontalTextAlignment="Center" MaxLines="3" LineBreakMode="WordWrap" />
                </Grid>
            </DataTemplate>
        </CollectionView.ItemTemplate>

        <CollectionView.EmptyView>
            <Label Text="No hay películas disponibles." HorizontalOptions="Center" VerticalOptions="Center" FontAttributes="Italic" TextColor="Gray"/>
        </CollectionView.EmptyView>
    </CollectionView>
</ContentPage>